# MVVM 패턴 여정기

### :fire: 시작하기 앞서

먼저 내 대표작 [조치원 수호대](https://github.com/tnvnfdla1214/homemade_guardian) 프로젝트 에서 알았던 것 은 나의 개발은 반쪽짜리 개발이였다는 것이였다.
이유는 나와 함께한 [친구](https://github.com/likppi10) 외에는 아마 중간에 들어와서 참여하기에는 어려울 것이다.
이는 객치지향적으로 코드를 짜지 않았기 떄문이다. 당시에는 그것을 몰랐고 버그 잡는것에만 치중했고 기능 구현에만 치중했기 때문이다.
당시에 MVC,MVP,싱글톤,MVVM 등등의 디자인 패턴에 대해 듣긴 했지만 찾아보며 이해해보려 노력해도 정확히 와닿지가 않았기에 넘어갔었다.
하지만 Spring을 이용해보면서 왜 객체지향을 지켜야 하는지, 어떠한 방법이 이를 가능하게 하는지에 대해 이해 하게 되었다.
후에 MVP가 나오고 MVVM이 나와서 어떠한 방식이 바뀌었는지 이번 자료에서 알아보려 한다. 다음장들은 프로젝트를 통해 감을 익히고 ACC를 이용하는 것 또한 해볼 예정이다.

***

먼저 (과거의 나를 포함) 안드로이드 개발을 처음 시작하는 사람들은 대부분 액티비티에 거의 모든 코드를 직접 넣는다. 하지만 시간이 갈수록 액티비티는 점점 무거워지고, 수정이나 유지 보수 하기가 힘들어진다. 흔히 비 구조적이고 유지보수가 어려운 코드를 스파게티 코드하고 하는데, 나의 첫 프로젝트는 스파게티에 라면 사리 다섯 개 정도 추가한 모습과 같았다.

때문에 디자인 패턴 공부의 필요성을 마음 깊이 느끼게 됐다. 이제 인싸 안드로이드 개발자라면 다들 MVVM에 DataBinding, Rx 등등은 숙지하고 있는 것 같다. 낯선 생김새 때문에 쉽사리 입문하기 힘들었지만, 일단 차근차근 하나씩 글을 써가며 연습해보기로 했다. 이 중에서도 MVVM 패턴과, 그것을 쉽게 만들도록 도와주는 안드로이드 아키텍쳐 컴포넌트 에 관한 예제로 시작하려고 한다.

***

### MVVM 패턴이란

위에서 언급한 대로, 액티비티에 기능을 붙이다보면 액티비티가 무거워지거나 혹은 종속성이 너무 강해 테스트가 힘들고 유지보수가 어려워진다. 이런 고민 때문에 MVVM 패턴이 등장했다. MVVM은 View - ViewModel - Model을 이용해 각각의 역할을 분리하여 가독성과 재사용성을 높인 디자인 패턴이다.

***

### MVC와 MVP와 MVVM 차이점

기존 MVC(Model - View - Controller) 구조에서는 액티비티가 컨트롤러의 역할을 했으며, 뷰와 연결되어 유저와 상호작용도 하고, 모델과 연결되어 데이터도 처리했다. 즉 뷰와 모델 사이에서 중재자 역할을 했다.

MVVM에서는 뷰에서 뷰모델로, 뷰모델에서 모델로 작업을 처리하며, 뷰에서 모델을 직접 참조하지 않는다. 대신 뷰에서 뷰모델을 관찰하며 데이터의 변경 사항을 감지한다.
<img src = "https://user-images.githubusercontent.com/48902047/132007881-1dadcdad-663c-4e92-8610-5a4fe25b34ba.jpeg">
<img src = "https://user-images.githubusercontent.com/48902047/131997902-24f601f0-685c-44fa-a48a-cd2aab86797d.png"> 











